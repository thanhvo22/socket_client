[{"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/index.js":"1","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/App.js":"2","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Login.js":"3","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/index.js":"4","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/Join/Join.js":"5","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Register.js":"6","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Login_.js":"7","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/home/Home.jsx":"8","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/login/Login.jsx":"9","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/register/Register.jsx":"10","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/apiCalls.js":"11","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/context/AuthContext.js":"12","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/context/AuthReducer.js":"13","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/topbar/Topbar.jsx":"14","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/messenger/Messenger.jsx":"15","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/message/Message.jsx":"16","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/chatOnline/ChatOnline.jsx":"17","/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/conversations/Conversation.jsx":"18","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/index.js":"19","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/App.js":"20","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/login/Login.jsx":"21","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/register/Register.jsx":"22","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/messenger/Messenger.jsx":"23","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/conversations/Conversation.jsx":"24","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/message/Message.jsx":"25","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/chatOnline/ChatOnline.jsx":"26","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/chatAll/ChatAll.jsx":"27"},{"size":447,"mtime":1652843499278,"results":"28","hashOfConfig":"29"},{"size":721,"mtime":1653008406701,"results":"30","hashOfConfig":"29"},{"size":2046,"mtime":1652620119700,"results":"31","hashOfConfig":"32"},{"size":112,"mtime":1652843693853,"results":"33","hashOfConfig":"32"},{"size":1071,"mtime":1652760051862,"results":"34","hashOfConfig":"32"},{"size":1178,"mtime":1652620254560,"results":"35","hashOfConfig":"32"},{"size":1675,"mtime":1652627243069,"results":"36","hashOfConfig":"32"},{"size":425,"mtime":1652868534978,"results":"37","hashOfConfig":"29"},{"size":1866,"mtime":1653273577758,"results":"38","hashOfConfig":"29"},{"size":1267,"mtime":1652928926497,"results":"39","hashOfConfig":"29"},{"size":394,"mtime":1652933796361,"results":"40","hashOfConfig":"29"},{"size":741,"mtime":1652863116390,"results":"41","hashOfConfig":"29"},{"size":499,"mtime":1653008406701,"results":"42","hashOfConfig":"29"},{"size":1864,"mtime":1652870003336,"results":"43","hashOfConfig":"29"},{"size":4420,"mtime":1653274179105,"results":"44","hashOfConfig":"29"},{"size":553,"mtime":1653228574928,"results":"45","hashOfConfig":"29"},{"size":1453,"mtime":1653271771429,"results":"46","hashOfConfig":"29"},{"size":874,"mtime":1653271737012,"results":"47","hashOfConfig":"29"},{"size":447,"mtime":1652843499278,"results":"48","hashOfConfig":"49"},{"size":714,"mtime":1653451559121,"results":"50","hashOfConfig":"49"},{"size":1887,"mtime":1653447465116,"results":"51","hashOfConfig":"49"},{"size":1569,"mtime":1653463048991,"results":"52","hashOfConfig":"49"},{"size":4938,"mtime":1653466066867,"results":"53","hashOfConfig":"49"},{"size":977,"mtime":1653465722585,"results":"54","hashOfConfig":"49"},{"size":553,"mtime":1653228574928,"results":"55","hashOfConfig":"49"},{"size":1453,"mtime":1653271771429,"results":"56","hashOfConfig":"49"},{"size":1005,"mtime":1653465998308,"results":"57","hashOfConfig":"49"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"jk6cty",{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"p1lx1y",{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"a4n4ga",{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128"},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132"},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142"},"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/index.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/App.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Login.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/index.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/Join/Join.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Register.js",["143","144","145"],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/auth/Login_.js",["146","147"],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/home/Home.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/login/Login.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/register/Register.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/apiCalls.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/context/AuthContext.js",[],[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/context/AuthReducer.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/topbar/Topbar.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/pages/messenger/Messenger.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/message/Message.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/chatOnline/ChatOnline.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/demo_socket/client/src/component/conversations/Conversation.jsx",["148","149"],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/index.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/App.js",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/login/Login.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/register/Register.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/pages/messenger/Messenger.jsx",["150","151","152"],[],"import React, { useRef } from \"react\";\nimport \"./messenger.css\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport Message from \"../../component/message/Message\";\nimport ChatALL from \"../../component/chatAll/ChatAll\";\nimport Conversation from \"../../component/conversations/Conversation\";\nimport ChatOnline from \"../../component/chatOnline/ChatOnline\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\n\nexport default function Messenger() {\n  const user_id = localStorage.getItem(\"user\");\n  let navigate = useNavigate();\n  if(!user_id){\n    navigate(\"/login\");\n  }\n  const [conversations, setConversation] = useState([]);\n  const [currentChat, setCurrentChat] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  //tin nhan den\n  const [arrivalMessage, setArrivalMessage] = useState(\"\");\n  //chatAll\n  const [chatAll, setChatAll] = useState(\"\");\n\n  //socket\n  useEffect(() => {\n    socket.current = io(\"https://whispering-anchorage-37001.herokuapp.com\");\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user_id);\n    socket.current.on(\"getUsers\", (users) => {\n      console.log(\"users:\", users);\n    });\n  }, [user_id]);\n\n  //get conversation\n  useEffect(() => {\n    const getConversation = async () => {\n      try {\n        const res = await axios.get(\n          `https://shielded-river-80459.herokuapp.com/conversations/${user_id}`\n        );\n        console.log(\"res\", res);\n        setConversation(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getConversation();\n  }, [user_id]);\n\n  //get message\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(\n          \"https://shielded-river-80459.herokuapp.com/messages/\" + currentChat._id\n        );\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n  }, [currentChat]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const message = {\n      sender: user_id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    const receiverId = currentChat.members.find((member) => member !== user_id);\n\n    socket.current.emit(\"sendMessage\", {\n      senderId: user_id,\n      receiverId,\n      text: newMessage,\n    });\n    try {\n      const res = await axios.post(\"https://shielded-river-80459.herokuapp.com/messages\", message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"messenger\">\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\n            <ChatALL />\n            {conversations.map((c) => (\n              <div onClick={() => setCurrentChat(c)}>\n                <Conversation conversation={c} />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"chatBox\">\n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((message) => (\n                    <Message\n                      message={message}\n                      own={message.sender === user_id}\n                    />\n                  ))}\n                </div>\n                <div className=\"chatBoxBottom\">\n                  <textarea\n                    className=\"chatMessageInput\"\n                    placeholder=\"write something...\"\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    value={newMessage}\n                  ></textarea>\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\n                    Send\n                  </button>\n                </div>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat.\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"chatOnline\">\n          <div className=\"chatOnlineWrapper\">\n          <ChatOnline\n              onlineUsers={onlineUsers}\n              currentId={user_id}\n              setCurrentChat={setCurrentChat}\n            />\n            \n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/conversations/Conversation.jsx",["153","154"],[],"import \"./conversation.css\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function Conversation(conversation) {\n  const user_id = localStorage.getItem(\"user\");\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    const friendId = conversation.conversation.members.find(\n      (m) => m !== user_id\n    );\n    const getUsers = async () => {\n      try {\n        const res = await axios.get(\n          \"https://shielded-river-80459.herokuapp.com/users/\" + friendId\n        );\n        setUser(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getUsers();\n  }, [conversation]);\n\n  return (\n    <div>\n      <div className=\"conversation\">\n        <img\n          className=\"conversationImg\"\n          src=\"https://res.cloudinary.com/dhxlhkgog/image/upload/v1650942802/rl3tjlquwimskhybnmu7.jpg\"\n        />\n        <span className=\"conversationName\">{user?.email}</span>\n      </div>\n    </div>\n  );\n}\n","/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/message/Message.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/chatOnline/ChatOnline.jsx",[],[],"/home/thanhvo/Desktop/Intern Stdio.hue/deploy_heroku/socket_client/src/component/chatAll/ChatAll.jsx",["155","156","157","158"],[],"\nimport \"./chatAll.css\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function ChatALL() {\n//   const user_id = localStorage.getItem(\"user\");\n//   const [user, setUser] = useState(\"\");\n//   useEffect(() => {\n//     const friendId = conversation.conversation.members.find(\n//       (m) => m !== user_id\n//     );\n//     const getUsers = async () => {\n//       try {\n//         const res = await axios.get(\n//           \"https://shielded-river-80459.herokuapp.com/users/\" + friendId\n//         );\n//         setUser(res.data);\n//       } catch (error) {\n//         console.log(error);\n//       }\n//     };\n//     getUsers();\n//   }, [conversation]);\n\n  return (\n    <div>\n      <div className=\"conversation\">\n        <img\n          className=\"conversationImg\"\n          src=\"https://res.cloudinary.com/dhxlhkgog/image/upload/v1650942802/rl3tjlquwimskhybnmu7.jpg\"\n        />\n        <span className=\"conversationName\">Chat ALL</span>\n      </div>\n    </div>\n  );\n}\n",{"ruleId":"159","severity":1,"message":"160","line":2,"column":10,"nodeType":"161","messageId":"162","endLine":2,"endColumn":14},{"ruleId":"159","severity":1,"message":"163","line":9,"column":10,"nodeType":"161","messageId":"162","endLine":9,"endColumn":14},{"ruleId":"159","severity":1,"message":"164","line":9,"column":16,"nodeType":"161","messageId":"162","endLine":9,"endColumn":23},{"ruleId":"159","severity":1,"message":"163","line":9,"column":10,"nodeType":"161","messageId":"162","endLine":9,"endColumn":14},{"ruleId":"159","severity":1,"message":"164","line":9,"column":16,"nodeType":"161","messageId":"162","endLine":9,"endColumn":23},{"ruleId":"165","severity":1,"message":"166","line":19,"column":6,"nodeType":"167","endLine":19,"endColumn":20,"suggestions":"168"},{"ruleId":"169","severity":1,"message":"170","line":25,"column":7,"nodeType":"171","endLine":26,"endColumn":101},{"ruleId":"159","severity":1,"message":"172","line":22,"column":23,"nodeType":"161","messageId":"162","endLine":22,"endColumn":37},{"ruleId":"159","severity":1,"message":"173","line":27,"column":10,"nodeType":"161","messageId":"162","endLine":27,"endColumn":17},{"ruleId":"159","severity":1,"message":"174","line":27,"column":19,"nodeType":"161","messageId":"162","endLine":27,"endColumn":29},{"ruleId":"165","severity":1,"message":"166","line":23,"column":6,"nodeType":"167","endLine":23,"endColumn":20,"suggestions":"175"},{"ruleId":"169","severity":1,"message":"170","line":28,"column":9,"nodeType":"171","endLine":31,"endColumn":11},{"ruleId":"159","severity":1,"message":"176","line":3,"column":10,"nodeType":"161","messageId":"162","endLine":3,"endColumn":18},{"ruleId":"159","severity":1,"message":"177","line":3,"column":20,"nodeType":"161","messageId":"162","endLine":3,"endColumn":29},{"ruleId":"159","severity":1,"message":"178","line":4,"column":8,"nodeType":"161","messageId":"162","endLine":4,"endColumn":13},{"ruleId":"169","severity":1,"message":"170","line":29,"column":9,"nodeType":"171","endLine":32,"endColumn":11},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'name' is assigned a value but never used.","'setName' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user_id'. Either include it or remove the dependency array.","ArrayExpression",["179"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'setOnlineUsers' is assigned a value but never used.","'chatAll' is assigned a value but never used.","'setChatAll' is assigned a value but never used.",["180"],"'useState' is defined but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.",{"desc":"181","fix":"182"},{"desc":"181","fix":"183"},"Update the dependencies array to be: [conversation, user_id]",{"range":"184","text":"185"},{"range":"186","text":"185"},[585,599],"[conversation, user_id]",[641,655]]